{% extends 'complaints/base.html' %}

{% block title %}Submit Complaint{% endblock %}

{% block content %}
<div class="card">
    <h2>Submit a Complaint</h2>
    <form method="post">
        {% csrf_token %}
        <div class="form-group">
            <label for="id_category">Category:</label>
            <select name="category" id="id_category" required>
                <option value="">-- Select Category --</option>
                <option value="electricity">Electricity</option>
                <option value="road">Road</option>
                <option value="sanitation">Sanitation</option>
                <option value="water_supply">Water Supply</option>
                <option value="others">Others</option>
            </select>
            {% if form.category.errors %}
                <small style="color: #dc3545;">{{ form.category.errors|striptags }}</small>
            {% endif %}
        </div>
        <div class="form-group">
            <label for="id_title">Title:</label>
            <input type="text" name="title" id="id_title" maxlength="200" required value="{{ form.title.value|default:'' }}">
            {% if form.title.errors %}
                <small style="color: #dc3545;">{{ form.title.errors|striptags }}</small>
            {% endif %}
        </div>
        <div class="form-group">
            <label for="id_description">Description:</label>
            <textarea name="description" id="id_description" rows="5" required>{{ form.description.value|default:'' }}</textarea>
            {% if form.description.errors %}
                <small style="color: #dc3545;">{{ form.description.errors|striptags }}</small>
            {% endif %}
        </div>
        <button type="submit" class="btn btn-primary">Submit Complaint</button>
        <a href="{% url 'home' %}" class="btn" style="margin-left: 1rem;">Cancel</a>
    </form>
</div>
{% endblock %}
